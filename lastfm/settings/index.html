<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Settings | NekoFM</title>
    <meta name="author" content="Lel Illumina" />
    <meta name="description" content="Change view settings for NekoFM" />
    <meta name="keywords" content="Nekoweb, LastFM, NekoFM, Music" />
    <meta property="og:title" content="Settings | NekoFM" />
    <meta property="og:description" content="Change view settings for NekoFM" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://lel.nekoweb.org/lastfm/settings" />
    <meta property="og:site_name" content="Nekoweb Lel" />
    <meta
      property="og:image"
      content="https://lel.nekoweb.org/images/NekoFM_ek.png"
    />
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "url": "https://lel.nekoweb.org/lastfm/settings",
        "name": "Settings | NekoFM",
        "author": {
          "@type": "Person",
          "name": "Lel Illumina"
        }
      }
    </script>
    <meta name="theme-color" content="#a20000" />
    <link rel="apple-touch-icon" href="/images/NekoFM_ek.png" />
    <link rel="preconnect" href="https://lastfm.freetls.fastly.net" />
    <link rel="icon" type="image/x-icon" href="/images/NekoFM_ek.png" />
    <link rel="stylesheet" href="../style.css" />
    <style>
      p,
      label {
        font-family: "JetBrains Mono", "Courier New", courier, monospace;
        line-height: 30px;
      }
      main {
        display: grid;
        grid-template-columns: auto auto;
        margin: 50px 10%;
        gap: 200px;
      }
      .option {
        color: silver;
      }
    </style>
  </head>
  <body>
    <header>
      <div id="title">
        <a href="/lastfm/beta"
          ><img id="logo" src="/images/NekoFM.png" alt="NekoFM" />
          <h2 style="display: inline">Beta</h2></a
        >
        <nav id="navbar">
          <ul>
            <li><a href="../css">Custom CSS</a></li>
            <li><a href="../settings">Settings</a></li>
          </ul>
        </nav>
        <h2 id="tagline">Settings</h2>
      </div>
    </header>
    <main>
      <div id="form">
        <h2>Settings</h2>
        <label for="nsfw">NSFW Album Covers:</label>
        <br />
        <label class="option" for="nsfw-removed">
          <input
            type="radio"
            id="nsfw-removed"
            name="nsfw"
            value="removed"
            checked
          />
          Removed
        </label>
        <br />
        <label class="option" for="nsfw-blurred">
          <input type="radio" id="nsfw-blurred" name="nsfw" value="blurred" />
          Blurred
        </label>
        <br />
        <label class="option" for="nsfw">
          <input type="radio" id="nsfw" name="nsfw" value="off" />
          Show
        </label>
        <br /><br />
        <label for="customCSS">Custom CSS:</label>
        <input
          type="checkbox"
          id="customCSS"
          name="customCSS"
          checked
        /><br /><br />
        <input type="submit" value="Save" onclick="submit()" />
        <input
          type="reset"
          value="Delete LocalStorage"
          onclick="deleteLocalStorage(); alert('LocalStorage Cleared')"
        /><br /><br /><br />
      </div>
      <div id="notes">
        <h2>Notes:</h2>
        <p>
          Using settings uses localStorage, however I only store these settings
          in localStorage and nothing else, the data stays on your device and I
          can never view it. Settings are checked and applied clientside.
        </p>
        <br /><br />
        <p>
          These settings are also sitewide, and will apply on both the stable
          and beta pages.
        </p>
        <br /><br />
        <p>
          However NSFW filtering is only on the beta page for now (support for
          stable in futures).
        </p>
      </div>
    </main>
    <script>
      function deleteLocalStorage() {
        localStorage.clear();
      }

      function setLocalStorage() {
        let nsfwValue = document.querySelector(
          'input[name="nsfw"]:checked'
        ).value;
        let cssEnabled = document.getElementById("customCSS").checked;

        localStorage.setItem("nsfw", nsfwValue);
        localStorage.setItem("customCSS", cssEnabled);
      }

      function submit() {
        try {
          setLocalStorage();
          alert("Settings successfully saved");
        } catch (error) {
          alert("Error: " + error.message);
        }
      }
    </script>
  </body>
</html>
